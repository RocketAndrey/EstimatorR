@page
@model Estimator.Pages.CustomerRequests.PurchaseModel

@{
    ViewData["Title"] = "Закупка ЭКБ. Заявка:" + Model.CustomerRequest.CustomerRequestID.ToString() ;
}
@addTagHelper  *, Estimator
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">

  <symbol id="info-fill" fill="currentColor" viewBox="0 0 16 16">
    <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
  </symbol>
</svg>


<form method="post">

   
    <input type="hidden" asp-for="CustomerRequest.CustomerRequestID" />
    
        <div class="row no-gutters">
           <div class="col">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="./Index">Заявки</a></li>
                        <li class="breadcrumb-item active"><a asp-page="./Edit" asp-route-id="@Model.CustomerRequest.CustomerRequestID">@Model.CustomerRequest.CustomerRequestID</a></li>
                        @{
                            if (Model.CustomerRequest.UsePurchaseElements)
                            {
                                        <li class="breadcrumb-item">
                                            <a asp-page="./Purchase" asp-route-id="@Model.CustomerRequest.CustomerRequestID">
                                                Закупка
                                            </a>
                                        </li>
                            }
                        }
                        @{
                            if (Model.CustomerRequest.UseImport)
                            {
                                        <li class="breadcrumb-item">
                                            <a asp-page="./Import" asp-route-id="@Model.CustomerRequest.CustomerRequestID">
                                                Импорт
                                            </a>
                                        </li>
                            }
                        }
                        <li class="breadcrumb-item">
                            <a asp-page="./Report" asp-route-id="@Model.CustomerRequest.CustomerRequestID">
                                Калькуляция
                            </a>
                        </li>
                    </ol>
                </nav>
            </div> 

            </div>
        <div class="row no-gutters">
            <div class="col">
            <h4>
                Редактирование закупки заявки&nbsp;@Model.CustomerRequest.CustomerRequestID:
            </h4>
            </div>
         </div>
        <div class="row no-gutters">
            <div class="col">
            @{
                string manufactoryAlert = "";

                string alertType = Model.CustomerRequest.InValidPurchaseElementsCount == 0 ? "alert alert-success alert-dismissible fade show" : "alert alert-warning alert-dismissible fade show";
               string alertMessage = string.Format (" Корректных  элементов {0} из {1}. Заполните цену и срок поставки  каждого элемента!",Model.CustomerRequest.ValidPurchaseElementsCount, Model.CustomerRequest.ValidPurchaseElementsCount +  Model.CustomerRequest.InValidPurchaseElementsCount  );
                    
            

               <div class="@alertType" role="alert">
                @if (Model.UnlinkedManufactureCount > 0)
                {
                       manufactoryAlert = string.Format("Элементов с неустановленным производителем: {0}. Укажите производителя!", Model.UnlinkedManufactureCount);
                      
                    <p class="mb-0">
                             <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-1-circle" viewBox="0 0 16 16">
                              <path d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0M9.283 4.002V12H7.971V5.338h-.065L6.072 6.656V5.385l1.899-1.383z"/>
                            </svg>
                                                @manufactoryAlert
                              </p>
                        <hr />
                }
                @if  ( Model.CustomerRequest.InValidPurchaseElementsCount > 0 )
                    {
                         <p class="mb-0">
                         <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-2-circle" viewBox="0 0 16 16">
                          <path d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8m15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0M6.646 6.24v.07H5.375v-.064c0-1.213.879-2.402 2.637-2.402 1.582 0 2.613.949 2.613 2.215 0 1.002-.6 1.667-1.287 2.43l-.096.107-1.974 2.22v.077h3.498V12H5.422v-.832l2.97-3.293c.434-.475.903-1.008.903-1.705 0-.744-.557-1.236-1.313-1.236-.843 0-1.336.615-1.336 1.306"/>
                        </svg>
                            @alertMessage
                        </p>

                    }
                    else
                    {

                        <p class="mb-0">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-flag-fill" viewBox="0 0 16 16">
                            <path d="M14.778.085A.5.5 0 0 1 15 .5V8a.5.5 0 0 1-.314.464L14.5 8l.186.464-.003.001-.006.003-.023.009a12 12 0 0 1-.397.15c-.264.095-.631.223-1.047.35-.816.252-1.879.523-2.71.523-.847 0-1.548-.28-2.158-.525l-.028-.01C7.68 8.71 7.14 8.5 6.5 8.5c-.7 0-1.638.23-2.437.477A20 20 0 0 0 3 9.342V15.5a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 1 0v.282c.226-.079.496-.17.79-.26C4.606.272 5.67 0 6.5 0c.84 0 1.524.277 2.121.519l.043.018C9.286.788 9.828 1 10.5 1c.7 0 1.638-.23 2.437-.477a20 20 0 0 0 1.349-.476l.019-.007.004-.002h.001" />
                        </svg>
                        @alertMessage
                           </p>
                    }
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>

               
                  
                </div>
             }
            </div>

        </div>
        <div class="row no-gutters">
            <table class="table table-bordered ">
                    <thead class="thead-light">
                  
                    <tr>
                            <th class="col-1">
                                <select class="form-control"
                                        asp-for="@Model.filterValidValue"
                                        name="filterValidValue"  asp-items="ViewBag.ValidFilter"
                                        data-width="75px"
                                        data-toggle="tooltip" data-placement="bottom" title="Состояние заполнения"
                                        novalidate></select>
                            </th>
                        <th class="col-4">
                                <input type="hidden" name="CustomerRequestID" value="@Model.CustomerRequestID" />
                                <input class="form-control" asp-for="@Model.filterPriceValue"
                                type="text" name="filterPurchaseName" value="@Model.filterByName"
                                       placeholder="Наименование" 
                                       data-toggle="tooltip" data-placement="bottom" title="Типономинал элемента"
                                       novalidate />
                        </th>
                      
                            <th class="col-1">
                                <span data-toggle="tooltip" data-placement="bottom" title="Уровень качества (ВП,ОС, ОСМ)">УК</span>
                                </th>
                            <th class="col-1">
                                <span data-toggle ="tooltip" data-placement="bottom" title="Минимальная партия/норма упаковки">
                                    МП/НУ
                                </span>
                               </th>
                            
                            <th class="col-2">
                               
                                <span data-toggle="tooltip" data-placement="bottom" title="Цена, 1 шт. руб. без НДС">
                                <select class="form-control"
                                 asp-for="@Model.filterPriceValue"
                                        name="filterPriceValue"  asp-items="ViewBag.PriceFilter"
                                        ></select>
                                       

                                </span>
                            </th>
                            <th class="col-1">
                        <span data-toggle="tooltip" data-placement="bottom" title="Срок поставки в календарных днях">
                                Срок,дн 
                                </span>
                                </th>
                            <th class="col-2">
                        <span data-toggle="tooltip" data-placement="bottom" title="Производитель элемента">
                                    <select class="form-control selectpicker show-tick" data-header="Выберите производителя"
                                    data-width="150px" data-live-search="true" asp-for="@Model.filterByManufactoryId" 
                                    name="manufactoryId" class="form-control" asp-items="ViewBag.Manufactureid"
                                        
                                        ></select>
                            </span>
                            </th>
                            <th class="col-1">


                                <button type="submit" value="Поиск" class="btn btn-outline-secondary"
                                        data-toggle="tooltip" data-placement="bottom" title="Фильтр"
                                asp-page-handler="Filter"
                                        novalidate>

                                    @if (!Model.Filtered)
                                    { 
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-funnel" viewBox="0 0 16 16">
                                            <path d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2z" />
                                        </svg>
                                    }
                                    else
                                    {
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-funnel-fill" viewBox="0 0 16 16">
                                            <path d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5z" />
                                        </svg>
                                    }
                                </button>
                            </th>
                         
                    </tr>
                </thead>
                <tbody>

                    @if(Model.CustomerRequest?.ElementImport?.XLSXElementTypes?.Count > 0 )
                        {

                            @for (int i = 0; i < Model.PurchaseView.Count; i++)
                            {


                                string selectedRow = Model.PurchaseView[i].Valid ? "table-success" : "";

                                if (!Model.PurchaseView[i].Included) { selectedRow = "table-secondary"; }

                                <tr class="@selectedRow" id="purchaseView[@i].Row">
                                    
                                    <td id="purchaseView[@i].checkcell">
                                        <div class="col">
                                            <div class="row">
                                        <div class="custom-control custom-switch">
                                            <input type="checkbox" class="custom-control-input" id="PurchaseView[@i].Included" asp-for="@Model.PurchaseView[i].Included"
                                                   onclick="tableRowDisabled('purchaseView[@i].Row','purchaseView[@i].checkcell');"
                                                           novalidate>

                                            <label class="custom-control-label" for="PurchaseView[@i].Included"></label>
                                        </div>
                                            </div>
                                        <div class="row"></div>
                                            <b>  @Html.DisplayFor(model => Model.PurchaseView[@i].RowNum) </b>
                                        </div>
                                        <input type="hidden" id="PurchaseView[@i].ID" asp-for="@Model.PurchaseView[i].ID" />
                                        <input type="hidden" id="PurchaseView[@i].Manufactory.Name" asp-for="@Model.PurchaseView[i].Manufactory.Name" />
                                        <input type="hidden" id="PurchaseView[@i].Manufactory.Id" asp-for="@Model.PurchaseView[i].Manufactory.Id" />

                                    </td>
                                    <td>
                                      
                                       
                                    <div class="col">
                                    <div class="row">
                                        <b>
                                            @Model.PurchaseView[i]?.VniirItem?.Name
                                        </b>
                                                @if (Model.PurchaseView[i].ElementNameChanged)
                                                {
                                                    <span class="text-info">@Model.PurchaseView[i].ImportedElementName</span>
                                                }

                                                <input asp-for="@Model.PurchaseView[i].ElementName" id ="PurchaseView[@i].ElementName" class="form-control" placeholder="Наименование '" disablelement="@((!Model.PurchaseView[i].Included).ToString())" required/>
                                                <div class="invalid-feedback">
                                                    Название обязательно.
                                                </div>
                                                
                          
                                        </div>
                                          <div class="row">
                                                @if (Model.PurchaseView[i].DataSheetChanged) 
                                                {
                                                    <span class="text-info">@Model.PurchaseView[i].ImportedDatasheetName</span>
                                                }
                                                @if(Model.PurchaseView[i].VniirItem != null)
                                                {
                                            if (Model.PurchaseView[i].DatasheetNotIdenticalVniir)
                                            {
                                                <span class="text-danger">В БД ВНИИР:  @Model.PurchaseView[i].VniirItem.TechCondition</span>
                                                
                                            }
                                                }

                                                <input asp-for="@Model.PurchaseView[i].Datasheet" id ="PurchaseView[@i].Datasheet" class="form-control" placeholder="ТУ" disablelement="@((!Model.PurchaseView[i].Included).ToString())" />

                                       
                                        </div>
                                        </div>
                                    </td>
                                  
                                    <td>
                                        <b>  @Html.DisplayFor(model => Model.PurchaseView[@i].QualityLevel) </b>
                               
                                    </td>

                                    <td>

                                          <div class="col">
                              

                                                  <div class="row">

                                                <input asp-for="@Model.PurchaseView[i].MinPackingSize" type="text" inputmode="numeric" pattern="[0-9]*" required min="1" id="PurchaseView[@i].MinPackingSize" class="form-control " disablelement="@((!Model.PurchaseView[i].Included).ToString())" />
 
                                                </div>
                                            <div class="row">

                                                <input asp-for="@Model.PurchaseView[i].PackingSample" type="text" inputmode="numeric" pattern="[0-9]*" min="1" required id="PurchaseView[@i].PackingSample" placeholder="НУ" class="form-control" disablelement="@((!Model.PurchaseView[i].Included).ToString())" />

                                            </div>
                                        </div>


                                       
                                    </td>
                            
                                    <td>
                                        
                                            <input asp-for="@Model.PurchaseView[i].StringElementPrice" id="PurchaseView[@i].StringElementPrice" class="form-control " pattern="^\d+(?:[\.,]\d+)?$" disablelement="@((!Model.PurchaseView[i].Included).ToString())" required/>
                                        
                                       
                                        @if (@Model.PurchaseView[i].PriceType == Models.ElementPriceType.Price)
                                        {
                                            
                                                <span data-toggle="tooltip" data-placement="bottom" title="Сформирована из прейскуранта производителя" >
                                    <!-- Button trigger modal -->
                                    <a   data-toggle="modal" data-target="#priceModal">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-tablet-fill text-success" viewBox="0 0 16 16">
                                            <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2zm7 11a1 1 0 1 0-2 0 1 1 0 0 0 2 0" />
                                        </svg>
                                    </a>
                                    </span>

                                    <!-- Modal Price -->
                                    <div class="modal fade" id="priceModal_@Model.PurchaseView[i].ID" tabindex="-1" aria-labelledby="priceModalLabel" aria-hidden="true">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header">

                                                    <h5 class="modal-title" id="priceModalLabel_@Model.PurchaseView[i].ID">Сформирована из прейскуранта</h5>

                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    <dl class="row">
                                                        <dt class="col-sm-3">Прейскурант:</dt>
                                                        <dd class="col-sm-9">@Model.PurchaseView[i].Price.PriceList.Name</dd>
                                                        <dt class="col-sm-3">Введен:</dt>
                                                        <dd class="col-sm-9">@Model.PurchaseView[i]?.Price?.PriceList?.DateStart.ToShortDateString()</dd>
                                                        <dt class="col-sm-3">Окончание:</dt>
                                                        <dd class="col-sm-9">@Model.PurchaseView[i]?.Price?.PriceList?.DateEnd.ToShortDateString() </dd>
                                                    </dl>
                                                </div>
                                                
                                            </div>
                                        </div>
                                    </div>

                                        }
                                        @if (@Model.PurchaseView[i].PriceType == Models.ElementPriceType.FromPreviosCustomerRequest)
                                        
                                        {
                                            <span data-toggle="tooltip" data-placement="bottom" title="Скопирована из  заявки @Model.PurchaseView[i]?.PriceHistoryItem?.CustomerRequestID" >
                                        <!-- Button trigger modal -->

                                        <a data-toggle="modal" data-target="#CustomerRequestModal_@Model.PurchaseView[i].ID">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-tablet-fill text-warning" viewBox="0 0 16 16">
                                                        <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2zm7 11a1 1 0 1 0-2 0 1 1 0 0 0 2 0" />
                                                    </svg>
                                                </a>
                                            </span>
                                   

                                    <!-- Modal CustomerRequest -->
                                    <div class="modal fade" id="CustomerRequestModal_@Model.PurchaseView[i].ID" tabindex="-1" aria-labelledby="CustomerRequestModalLabel" aria-hidden="true">
                                        <div class="modal-dialog">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h5 class="modal-title" id="CustomerRequestModalLabel">Импортировано из предыдущей заявки</h5>
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    <dl class="row">
                                                        <dt class="col-sm-3">Заявка:</dt>
                                                        <dd class="col-sm-9">
                                                            <a asp-page="../CustomerRequest/Edit" asp-route-id="@Model.PurchaseView[i]?.PriceHistoryItem?.CustomerRequestID" target="_blank"> @Model.PurchaseView[i]?.PriceHistoryItem?.CustomerRequestID</a>
                                                        </dd>
                                                    </dl>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                        }

                                        @if (@Model.PurchaseView[i].PriceType==Models.ElementPriceType.ImportedfromExcel)
                                        {
                                    <span data-toggle="tooltip" data-placement="bottom" data-html="true" title="Импортирована  из  Эксель, <b> Заявка:</b> @Model.PurchaseView[i]?.PriceHistoryItem?.CustomerRequestID">


                                    
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-tablet-fill text-info" viewBox="0 0 16 16" >
                                                <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2zm7 11a1 1 0 1 0-2 0 1 1 0 0 0 2 0" />
                                            </svg>
                                    </span>
                                }
                                        
                                    </td>
                                    <td>

                                        <input asp-for="@Model.PurchaseView[i].DeliveryTime" type="text" inputmode="numeric" pattern="[0-9]*" required id="PurchaseView[@i].DeliveryTime" class="form-control " disablelement="@((!Model.PurchaseView[i].Included).ToString())" />
                                      
                                    </td>

                                    <td colspan="2">
                                       
                                        @if(Model.PurchaseView[i].Manufactory.Id==0)
                                        {
                                        
                                            <span class="text-danger">
                                                @Model.PurchaseView[i].MаnufactorySearchErrorString
                                            </span>

                                            @if (Model.PurchaseView[i].SupposedManufactory!=null)
                                            {
                                            @* https://www.learnrazorpages.com/razor-pages/forms/radios *@

                                                 @for (int m = 0; m < Model.PurchaseView[i].SupposedManufactory.Count; m++)
                                                {
                                                    <div class="form-check">
                                                        <input class="form-check-input" asp-for="@Model.PurchaseView[i].MаnufactorySearchString" type="radio" id="Model.PurchaseView[@i].SupposedManufactory[@m]" value="@Model.PurchaseView[i].SupposedManufactory[m].ManufactutureName" disablelement="@((!Model.PurchaseView[i].Included).ToString())" />
                                                        <label class="form-check-label" for="Model.PurchaseView[@i].SupposedManufactory[@m]">
                                                            @Model.PurchaseView[i].SupposedManufactory[m].ManufactutureName
                                                        </label>
                                                    </div>
                                                   
                                                }

                                            }
                                            else
                                            {
                                             
                                               <input asp-for="@Model.PurchaseView[i].MаnufactorySearchString" id="PurchaseView[@i].MаnufactorySearchString" class="form-control" disablelement="@((!Model.PurchaseView[i].Included).ToString())" />
                                            }

                                            }
                                
                                        else
                                        {
                                   
                                               <a asp-page="./RuChips/Edit/" asp-route-id="@Model.PurchaseView[i]?.Manufactory?.Id">
                                                   @Html.DisplayFor(model => Model.PurchaseView[i].Manufactory.Name)
                                               </a>
                                    
                                        @if (Model.PurchaseView[i].VniirItem != null)
                                        {

                                        <span data-toggle="tooltip" data-placement="bottom" title="Элемент в справочнике ВНИИР">
                                            <!-- Button trigger modal -->
                                            <a data-toggle="modal" data-target="#VniirModal_@Model.PurchaseView[i]?.VniirItemId">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-tag-fill text-success" viewBox="0 0 20 20">
                                                    <path d="M2 1a1 1 0 0 0-1 1v4.586a1 1 0 0 0 .293.707l7 7a1 1 0 0 0 1.414 0l4.586-4.586a1 1 0 0 0 0-1.414l-7-7A1 1 0 0 0 6.586 1zm4 3.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0" />
                                                </svg>

                                            </a>

                                        </span>

                                        <div class="modal fade" id="VniirModal_@Model.PurchaseView[i]?.VniirItemId" tabindex="-1" aria-labelledby="vniirModalLabel" aria-hidden="true">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">

                                                        <h5 class="modal-title" id="vniirModalLabel">Элемент в справочнике ВНИИР</h5>

                                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                            <span aria-hidden="true">&times;</span>
                                                        </button>
                                                    </div>
                                                    <div class="modal-body">
                                                        <dl class="row">
                                                            <dt class="col-sm-3">@Html.DisplayNameFor(model => Model.PurchaseView[@i].VniirItem.Group):</dt>
                                                            <dd class="col-sm-9">@Model.PurchaseView[@i].VniirItem.Group</dd>
                                                            <dt class="col-sm-3">@Html.DisplayNameFor(model => Model.PurchaseView[@i].VniirItem.Subgroup):</dt>
                                                            <dd class="col-sm-9">@Model.PurchaseView[@i].VniirItem.Subgroup</dd>
                                                            <dt class="col-sm-3">@Html.DisplayNameFor(model => Model.PurchaseView[@i].VniirItem.Name):</dt>
                                                            <dd class="col-sm-9">@Model.PurchaseView[@i].VniirItem.Name</dd>
                                                            <dt class="col-sm-3">@Html.DisplayNameFor(model => Model.PurchaseView[@i].VniirItem.TechCondition):</dt>
                                                            <dd class="col-sm-9">@Model.PurchaseView[@i].VniirItem.TechCondition</dd>
                                                            <dt class="col-sm-3">@Html.DisplayNameFor(model => Model.PurchaseView[@i].VniirItem.Description):</dt>
                                                            <dd class="col-sm-9">@Model.PurchaseView[i].VniirItem.Description</dd>
                                                        </dl>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>


                                    }
                                    
                                        }
                                    

                                    </td>

                                </tr>
                                
                            }
                        }
                   </tbody>
            </table>
        </div>
        <div class="row">

              <button type="submit" class="btn btn-outline-primary" asp-page-handler="Save">Сохранить</button>
        </div>
    
    

</form>

<script src="~/js/form-controls.js"></script>

@* <script src="~/js/form-validation.js"></script>
 *@
 @* @section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
} *@

<script>

    document.getElementById("filterPriceValue").addEventListener("change", reloadPage);
    document.getElementById("manufactoryId").addEventListener("change", reloadPage);
    
    
    function reloadPage(event)
    { 
        console.log("wow");
    }


</script>

